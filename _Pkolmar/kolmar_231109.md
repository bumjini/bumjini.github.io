---
layout: share-distill
title: '[연구 7] Representation Learning'
date: 2023-11-05
giscus_comments : true
description: "물성에 대한 예측 수식적 모델링"
authors: 
    - name: Bumjin Park
      affiliations:
        name: KAIST

img: https://drive.google.com/uc?export=view&id=1coZdkpkxr83eALyFK1bMsYLfKYrUi1U8
---

##  Report Info   

<div class="spanbox" markdown="1" style="width:40rem;background-color:#FFFDFD;">
1. 👨🏻‍💻 **Code Release**:  Tag [v23.11.01.1](https://github.com/fxnnxc/kolmar/tree/v23.11.01.1)
2. 📂 **Raw Data** :  (`raw_data:receipt_3`)   <br> # 3.1 은 1차 및 2처 처방을 합치고 코드별로 합산한 데이터
3. 🗂️ **Datasets** :  (`ds:receipt_3_dl`)  
4. 👾 **Models** :  MLP 
5. 🦄 **Trainers** : (1, `mlp_regressor`)
6. 📌 **Related Notebooks** 
  * [train_rmse.ipynb](https://github.com/fxnnxc/kolmar/blob/v23.11.01.1/labs/receipt_3_mlp/train_rmse.ipynb)

</div>


## All About Representation Learning 

딥러닝은 패턴을 찾아 인식하여 예측하는 모델 

* 입력에 존재하는 패턴 탐지
* 입력에 대해서 새로운 패턴 형성 




모든 데이터셋에 따라서 적당한 표현벡터로 변형하여 학습 진행 

* 이미지 --> 표현 벡터
* 자연어 --> 표현 벡터 
* **원료 --> 표현 벡터**


추가적인 정보가 있다면, **표현벡터**를 만드는데 큰 도움이 된다. 





## 한국화장품협회 데이터 

한국화장품협회 [kca](https://kcia.or.kr/home/main/) 에는 약 20000개의 성분에 대한 정보가 있음.  
[데이터링크](https://docs.google.com/spreadsheets/d/1KFCujKq_eU9GXio6q8y59vUXpN_7T21Q/edit?usp=drive_link&ouid=112523016502479227051&rtpof=true&sd=true) 참조. 


Index: 20636 entries, 0 to 20635


|Column|   Non-Null  Count |  Dtype | 
| :--- |  ------  |  -------------- |   ----- | 
 0  | idx    |  20636 non-null  |int64 
 1  | 성분코드|     20636 non-null | int64 
 2  | 성분명  |    20636 non-null  |object
 3  | 중문명   | **(협회사 로그인 필요)**  526 non-null   | object
 4  | 영문명   |   19651 non-null | object
 5  | CAS No. | 7727 non-null   | object
 6  | 기원 및 정의 | 10671 non-null | object
 7  | 배합목적    | 9973 non-null  | object
 8  | 화학물분류  | **(협회사 로그인 필요)** 10345 non-null | object
 9 |  성분의 기원 |  **(협회사 로그인 필요)** 10380 non-null | object
 10 | 명칭변경이력 |  515 non-null  |  object
 11 | 분자구조식  |  2638 non-null |  object
 12 | 시성식    |  2052 non-null   | object
 13 | 별명(이명) |  86 non-null   |  object
 14 | 상품명    |  606 non-null   |  object
 15|  복합물 상품명 | 40 non-null  |   object
 

### 데이터 예시

2. **성분명** : [ '가공소금', '가지열매추출물', '구멍쇠미역추출물', ..., '산달로', '징크탤크클로라이드하이드록사이드' 'C12-18알카노일글리세린/세바식애씨드코폴리머' ]
4. **영문명**: ['nan', 'Solanum Melongena (Eggplant) Fruit Extract', 'Agarum Cribrosum Extract', 'Lupine Amino Acids', ... ]
5. **CAS No.** : [nan, '84012-19-1', nan, nan, '328-39-2(DL-)_x000D_\n61-90-5(L-)', nan, nan, nan, '78-70-6', '115-95-7']
6. **기원 및 정의** : ['\n이 원료는 비타민나무 Hippophae rhamnoides의 배양된 캘러스에서 추출한 것이다.\n',
       '\n이 원료는 네오펜틸글라이콜, 트라이메틸올프로판, 글리시딜데카노에이트와 프탈릭안하이드라이드의 에스터화반응으로 얻은 공중합체이다.\n',
       '\n이 원료는 주로 다음의 구조를 갖는 4급 암모늄 화합물이다.\n', ...,
       '\n이 원료는 다음의 구조를 갖는 유기화합물이다.]
7. **배합목적** : ['산화방지제, 헤어컨디셔닝제, 피부보호제, 피부컨디셔닝제(보습제)', '피막형성제', '정전기방지제,]
10. **명칭변경이력** : ['2017.11.14 통칙변경 [밤송이추출물 ☞ 밤나무깍정이추출물]', '2017.11.14 통칙변경 [멘탄다이올 ☞ 멘테인다이올]',]
11. **분자구조식** : 그림으로 존재 
12. **시성식** : ['C17H30N • Cl', 'C25H39N3O5S', 'C15H24O6', 'C15H14O3', 'C10H20O2', 'C12H23NO3', 'C36H64N4O12', 'C54H78O3', 'C25H35ClO6', 'C9H12N2O4']
13. **별명(이명)** : ['\n1,3-다이아미노프로판다이말리에이트 ', '\nHumulus Lupulus (Hops) Flower Extract ', '\n딱나무추출물금화규추출물 ', '\n딱나무잎가루금화규잎가루 ', '\n딱나무꽃가루금화규꽃가루 ', '\n황산은 ',]
14. **상품명** : (['\nIMWITOR PG4 Cocoate ((주)인터케어)\n', '\nArtemisia Capillaris Extract (와이트레이딩)\n', '\nPteridium Aquilinum Extract (와이트레이딩)\n', '\nCharcoal Extract (와이트레이딩)\n', '\nAcorus Gramineus Extract (와이트레이딩)\n', '\nPaeonia Lactiflora Bark/Sap Extract (와이트레이딩)\n',] 
15. **복합물 상품명** : ['\nIMWITOR liteMULS((주)인터케어)\n', '\nTCI-211((주)에스제이인터내셔널)\n',
       '\n오곡명초((주) 웨이브 비씨엠)\n',
       '\nPlatycladus orientalis leaf essential oil (JINR)((재)전남바이오산업진흥원 천연자원연구센터)\n',
       '\nECO-칼슘아세테이트수((주)에코마인)\n',]


표현 벡터와의 관계는 다음과 같다. 

특정 목적들이 동일하다면, 유사한 원료라고 볼 수 있기에 표현 벡터가 유사해야 한다. 
임의의 벡터에 대해서 특정 방향성으로 거리가 유사함을 나타냄. 

* 쉬운 예시는 원핫 벡터 
* 좀더 어려운 예시는 여러 벡터 원소들에 대해서 구성. 


### 배합 목적 데이터 분석 


데이터 예시) 


| 성분명 | 배합목적 |
|---| ---|
| 비타민나무캘러스추출물 | 산화방지제, 헤어컨디셔닝제, 피부보호제, 피부컨디셔닝제(보습제) | 
| 폴리에스터-23 | 피막형성제 | 
| 라우릴피리디늄클로라이드 | 정전기방지제, 체취방지제 | 
| 소듐헤파린 | 피부컨디셔닝제(기타) | 
| 들깨잎오일 | 착향제 | 
| 빌트리열매추출물 | 피부컨디셔닝제(기타) | 
| 그멜리나뿌리추출물 | 피부컨디셔닝제(기타) | 
| 락토바실러스/황칠나무잎/줄기추출발효여과물 | 피부컨디셔닝제(유연제) | 
| 락토바실러스/황칠나무수액발효여과물 | 피부컨디셔닝제(유연제) | 
| 밤나무깍정이추출물 | 산화방지제, 피부보호제, 피부컨디셔닝제(유연제) | 
| 아세틸글루타미노일파네실시스테인 | 피부컨디셔닝제(보습제) | 
| 다우니그라운드체리열매즙 | 헤어컨디셔닝제, 피부컨디셔닝제(기타) | 

 원료에 대해서 등장한 배합 목적의 횟수를 보면 다음과 같음. 
 배합목적들은 몇 가지 특성으로 나뉠 수 있는 것 같음 (콜마측에 요청). 
 해당 배합목적 이외에 특성이 더 존재하는지 문의필요. 



| 순번 | 배합목적 | 등장 횟수 | 
|:-: | :-- | :--|
0  |  피부컨디셔닝제(기타)  |  3690
1  |  헤어컨디셔닝제  |  1433
2  |  피부컨디셔닝제(유연제)  |  1227
3  |  계면활성제(유화제)  |  1060
4  |  피부보호제  |  896
5  |  계면활성제(세정제)  |  896
6  |  산화방지제  |  817
7  |  피부컨디셔닝제(보습제)  |  763
8  |  착향제  |  541
9  |  피막형성제  |  428
10  |  정전기방지제  |  422
11  |  피부컨디셔닝제  |  364
12  |  계면활성제(거품촉진제)  |  289
13  |  보습제  |  279
14  |  피부컨디셔닝제(수분차단제)  |  268
15  |  유화안정제  |  233
16  |  점도증가제(비수성)  |  228
17  |  점도증가제(수성)  |  223
18  |  용제  |  215
19  |  계면활성제(용해보조제)  |  213
20  |  결합제  |  163
21  |  수렴제  |  162
22  |  계면활성제(친수제)  |  156
23  |  모발고정제  |  102
24  |  연마제  |  81
25  |  염모제  |  80
26  |  표면조정제  |  70
27  |  각질제거제  |  69
28  |  감미제  |  68
29  |  미끄럼조정제/활택제  |  64
30  |  pH 조정제  |  63
31  |  가소제  |  62
32  |  흡수제  |  59
33  |  안티케이킹제  |  56
34  |  점도감소제  |  55
35  |  금속이온봉쇄제  |  55
36  |  계면활성제(분산제)  |  52
37  |  보존제  |  47
38  |  불투명화제  |  46
39  |  분산제(비계면활성제)  |  45
40  |  벌킹제(증량제)  |  37
41  |  네일컨디셔닝제  |  34
42  |  변색방지제  |  27
43  |  광안정화제  |  24
44  |  완충화제  |  20
45  |  체취방지제  |  19
46  |  기포방지제  |  16
47  |  환원제  |  16
48  |  산화제  |  12
49  |  부식방지제  |  11
50  |  피부컨디셔닝제 (기타)  |  11
51  |  점도증가제-비수성  |  9
52  |  비듬방지제  |  9
53  |  속눈썹컨디셔닝제  |  8
54  |  퍼머넌트웨이브용제/헤어스트레이트너용제  |  7
55  |  점도조절제  |  7
56  |  변성제  |  7
57  |  계면활성제  |  7
58  |  제모제(물리적)  |  5
59  |  착색제  |  5
60  |  벌킹제  |  4
61  |  산화방지제. 피부보호제  |  4
62  |  분사제  |  4
63  |  피부보습제  |  4
64  |  제모제(화학적)  |  3
65  |  피부컨디셔닝제(유화제)  |  2
66  |  점착제  |  2
67  |  피부 컨디셔닝  |  2
68  |  계면활성제(수성)  |  2
69  |  피부컨디 셔닝제(기타)  |  1
70  |  착색제(화장비누)  |  1
71  |  스킨  |  1
72  |  분산제(비계면활성제  |  1
73  |  흡착제  |  1
74  |  피부컨디셔닝제(가터)  |  1
75  |  피부컨디셔닝  |  1
76  |  피부컨디셔닝제 (보습제)  |  1
77  |  헤어컨디셔닝제(보습제)  |  1
78  |  피부 보호제  |  1
79  |  피부컨디셔닝(기타)  |  1
80  |  피부컨디셔닝제 (유연제)  |  1
81  |  피부컨디셔닝제(유연제  |  1
82  |  계면활성제(점도증가제)  |  1
83  |  자외선차단제  |  1
84  |  유연화제  |  1
85  |  피부컨디셔닝제(수분차단제  |  1
86  |  헤어컨디셔닝제. 피부보호제  |  1
87  |  증점제  |  1
88  |  계면활성제(거품형성촉진제)  |  1
89  |  피부컨티셔닝제(기타)  |  1
90  |  피부컨디셔닝제(보습)  |  1

